{% extends "smarthome/base_user.html" %}

{% block title %}Rooms - SmartHome{% endblock %}

{% block content %}
<div class="header"><h2>Rooms:</h2></div>

<div class="content">
{% if rooms %}
<ul>
    {% for room in rooms %}
        <li class="rooms">
            {% comment %} <a href="{% url 'devices:details' device.id %}"> {% endcomment %}
                {{ room.room_name }} 
                <form method="POST" action="{% url 'devices:delete_room' room.id %}" style="display:inline;">
                    {% csrf_token %}
                    <button class="buttonDelete" type="submit" onclick="return confirm('Are you sure you want to delete this room?')">Delete</button>
                </form>
            {% comment %} </a>                  {% endcomment %}
            {% comment %} <form method="get" action="{% url 'devices:edit_device' device.id %}" style="display:inline;">
                <button type="submit">Edit</button>
            </form> {% endcomment %}
            
        </li>
    {% endfor %}
{% else %}
    <p>No rooms set.</p>
{% endif %}
    <form method="POST" style="display:inline;">
        {% csrf_token %}
        <input type="text" name="name" placeholder="Room name" required>
        <button type="submit">+ Add Room</button>
    </form>
    {% if error %}
        <p class="error">{{ error }}</p>
    {% endif %}
</ul>

</div>
{% endblock %}